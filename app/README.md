## üìñ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

### `main.py`  
–§–∞–π–ª `main.py` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤ –∏–∑ –ø–∞–ø–∫–∏ `handlers`.  

–†–æ—É—Ç–µ—Ä—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ `__init__.py` –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É `<name>_router`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∏—Ö –≤ `main.py`.  

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤ `main.py` –µ—Å—Ç—å –¥–≤–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–∞:  
- **`main()`** ‚Äî –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.  
- **`get_image_view(id)`** ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –µ–≥–æ `id`.  

---

### üìÇ `handlers`  
–ü–∞–ø–∫–∞ `handlers` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤. –í –Ω–µ–π —Ç–∞–∫–∂–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ `utils/`, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.  

#### üìå `utils/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
–°–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞:  
- **`responses.py`** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `ok_response` –∏ `error_response`.  
- **`db_actions.py`** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.  

#### üõ† –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
- **`responses.ok_response(resp)`**  
  –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞, –¥–æ–±–∞–≤–ª—è—è `{ "result": true }`, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –ø–æ–Ω—è—Ç–µ–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É.  
- **`responses.error_response(msg, err_type)`**  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É, –∫–æ—Ç–æ—Ä—É—é –ø–æ–Ω–∏–º–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (`msg` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ, `err_type` ‚Äî —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ –æ—à–∏–±–∫–∏).  
- **`db_actions.create(model, session, data)`**  
  –°–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.  
- **`db_actions.remove(model, session, id)`**  
  –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ `id`.  
- **`db_actions.get_by_id(model, session, id)`**  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å—å –ø–æ `id` –∏–ª–∏ `None`.  
- **`db_actions.get_list(model, session)`**  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ç–∞–±–ª–∏—Ü—ã.  
- **`get_image.get_image(filename)`**  
  –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ API, –∫–æ—Ç–æ—Ä–æ–µ —Ö—Ä–∞–Ω–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.  

---

### ‚öôÔ∏è `core`  
–ü–∞–ø–∫–∞ `core` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.  

#### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã  
- **`config.py`** ‚Äî —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.  
- **`database.py`** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.  
- **`models/`** ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –º–æ–¥–µ–ª—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  

#### üõ† –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã  
- **`config.Settings`**  
  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ–ª—è: `db_url` ‚Äî URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, `image_saver_url` ‚Äî URL —Å–µ—Ä–≤–∏—Å–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π).  
- **`config.settings`**  
  –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `Settings` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.  
- **`database.DBSettings`**  
  –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ –¥–≤–∏–∂–∫–∞ –∏ —Å–µ—Å—Å–∏–π).  
- **`database.db_settings`**  
  –≠–∫–∑–µ–º–ø–ª—è—Ä `DBSettings` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.  
- **`models.base.Base`**  
  –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –º–æ–¥–µ–ª–µ–π –ë–î, –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ `id` –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á.  
- **`models.user`, `models.tweet`, `models.image`**  
  –§–∞–π–ª—ã —Å –º–æ–¥–µ–ª—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  
- **`models.table_communication`**  
  –§–∞–π–ª —Å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π.  

---

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å?  
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:  
   ```bash
   docker-compose up --build postgres image_saver
   ```  
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—å—Å—è):  
   ```bash
   alembic upgrade head
   ```  
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  ```bash
	export postgres_user=postgres_user
  export postgres_password=postgres_password
  export postgres_host=192.168.5.197:5432/postgres_db
  export image_service_host=http://192.168.5.197:9000/
  ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:  
   ```bash
   pytest tests/
   ```  

–ì–æ—Ç–æ–≤–æ! üéØ –¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. üöÄ  
